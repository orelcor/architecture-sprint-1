# Сервис для публикации фотографий городов Mesto

## 1. Проектирование

Для решения предлагается использовать паттерн Module Federation, модуль Webpack

Анализ DDD показывает, что выделяются три основные домена:
1. Регистрация и авторизация
2. Профиль пользователя
3. Лента фотографий (мест)

Соответственно предлагается выделить 3 микрофронтенда + еще 1 в качестве точки входа в приложение (host в концепции Module Federation):
1. host
2. auth
3. profile
4. photo_feed

Таким образом получится набор слабосвязных микрофронтендов, которые подключаются в качестве remote.

## 2. Описание миграции

Для каждого MF созданы проекты в директории frontend/microfrontends с помощью команды `npx create-mf-app`

Миграция состоит из следующих шагов:
1. Копирование в раздел `src` необходимых для работы css-стилей и статических изображений
2. Разделение монолитных скриптов api, отвечающих за обращение к бэкенду - итого в каждом MF код не дублируется
3. Перенос необходимых компонентов и добавление в них части функционала из `Main.js` и `App.js` (которые ранее прокидывлись на вход функции, но с точки зрения функционала соответствуют микрофронтенду)
4. Дописать код, отвечающий за отправку событий и обработку их на стороне каждого из MF (в монолите эта логика реализовывалась за счет общего состояния)
5. Решить проблемы с зависимостями, исключить ненужные

P.S. Были попытки в auth + host довести до работающего решения, но оказалось слишком сложно при отсуствии опыта по фронтенду. 

Особенности:
- `Header.js` относится к MF авторизации т.к. с функциональной точки зрения отвечает за вход/выход/регистрацию
- `Main.js` относится к профилю, не смотря на название там логике именно профиля
- `App.js` - необходимо удалить лишнее/забрать в другие модули